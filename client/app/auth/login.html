<div class="login">
  <header>
    <div class="cover-title">
      <h1>Audiopile</h1>
      <i class="fa fa-headphones fa-3x"></i>
      <button ng-click="toggleSignup()">Signup</button>
      <button ng-click="toggleLogin()">Login</button>
    </div>
  </header>
  <section ng-style='backImage'>

    <div class="section-content">
      <ul>
          <li><span>Upload uncompressed audio in any format</span></li>
          <li><span>Automatic audio transcoding and normalization</span></li>
          <li><span>Backup source files, stream lower resolution mp3</span></li>
          <li><span>Collaborate and share audio with your group</span></li>
      </ul>

    <form ng-show="showLogin" name="loginForm" class="login-form">
      <fieldset>
        <legend>Login</legend>
        <label>
          <input ng-focus="loginError = '';" name="email" ng-field ng-model="user.email" placeholder="email" type="email" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" ng-model-options="{ updateOn: 'blur' }" required focus-if="showLogin">
          <div class="field-error">
            <span ng-show="loginForm.email.$error.required && loginForm.email.$dirty">Required!</span>
            <span ng-show="loginForm.email.$error.email">Not valid email!</span>
          </div>
        </label>
        <label>
          <input type="password" name="password" ng-model="user.password" placeholder="password" ng-focus="loginError = '';"  my-enter="login()" required />
          <div class="field-error">
            <span ng-show="loginForm.password.$error.required && loginForm.password.$dirty">Required!</span>
          </div>
        </label>
        <div class="form-buttons">
          <button class="button-primary" ng-click="login()" ng-disabled="loginForm.$invalid">Login</button>
          <!-- <button ng-click="confirm = true" ng-disabled="loginForm.$invalid || confirm">Signup</button> -->
          <div class="field-error">
            <span ng-show="true">{{loginError}}</span>
          </div>
        </div>
        </fieldset>
      </form>

    <form ng-show="showSignup" name="signupForm" class="login-form">
      <fieldset>
        <legend>Signup</legend>
          <label>
            <input ng-focus="signupError = '';" name="email" ng-field ng-model="user.email" placeholder="email" type="email" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" ng-model-options="{ updateOn: 'blur' }" required focus-if="showSignup"/>
            <div class="field-error">
              <span ng-show="signupForm.email.$error.required && signupForm.email.$dirty">Required!</span>
              <span ng-show="signupForm.email.$error.email">Not valid email!</span>
            </div>
          </label>
          <label>
            <input ng-focus="signupError = '';" type="password" name="passwordConfirm" ng-model="newPassword" placeholder="confirm password" my-enter="signup(newPassword)" ng-minlength="8" />

            <div class="field-error">
              <span ng-show="signupForm.email.$error.required && signupForm.email.$dirty">Required!</span>
              <span ng-show="signupForm.email.$error.email">Not valid email!</span>
            </div>
          </label>
          <label>
            <input type="password" name="password" ng-model="user.password" placeholder="password" ng-focus="signupError = '';" required />
            <div class="field-error">
              <span ng-show="signupForm.password.$error.required && signupForm.password.$dirty">Required!</span>
            </div>
          </label>
          <div class="form-buttons">
            <button ng-click="signup(newPassword)" ng-disabled="signupForm.$invalid || confirm">Signup</button>
            <div class="field-error">
              <span ng-show="signupError">{{signupError}}</span>
            </div>
          </div>
        </fieldset>
      </form>



      <h2>AudioPile</h2>
    </div>
  </section>
</div>
